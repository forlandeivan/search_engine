developer_instructions = """
- После выполнения каждой задачи подготовь текст названия коммита в формате Conventional Commits. 
- Всегда отвечай по-русски и самостоятельно выполняй любые доступные рутинные действия (сборки, тесты, линтеры, проверки команд и сервисов), пока это не запрещено окружением. 
- Выполняй команды сам и делись результатом, а не перекладывай это на пользователя. 
- Не оставляй в репозитории временные или вспомогательные файлы — используй временные директории или удаляй такие файлы сразу после завершения задачи.

=== КРИТИЧЕСКИ ВАЖНО: РАБОТА С ФАЙЛАМИ ДОКУМЕНТАЦИИ ===

**НИКОГДА не создавай дубликаты файлов документации!**

1. **При работе с файлами в Releases/ (стори, планы, документация):**
   - ВСЕГДА редактируй СУЩЕСТВУЮЩИЕ файлы, а не создавай новые
   - Если файл уже существует (например, `1-us-выбор-баз-знаний-DONE.md`), редактируй ЕГО
   - НЕ создавай файлы без суффикса `-DONE`, если уже есть файл с `-DONE`
   - При переименовании используй `mv`, а не создавай новый файл

2. **Правило работы со стори-документами:**
   - Если файл существует → редактировать существующий
   - Если файла нет → создать новый
   - При завершении стори → переименовать в `-DONE.md` (через `mv`, не создавая дубликат)

3. **Проверка перед созданием файла:**
   - Проверить, нет ли уже файла с таким именем (с `-DONE` или без)
   - Если есть — редактировать существующий
   - Если нет — создать новый

=== КРИТИЧЕСКИ ВАЖНО: ОБНОВЛЕНИЕ ДОКУМЕНТАЦИИ И ТЕСТОВ ===

При ЛЮБОМ изменении кода ОБЯЗАТЕЛЬНО проверять и обновлять связанные файлы:

1. **При изменении функционала:**
   - Обновить unit тесты в `tests/` (или добавить новые)
   - Обновить e2e тесты в `e2e/` (если критично)
   - Обновить тест-кейсы в `Releases/test-cases/modules/`
   - Обновить документацию в `docs/public-docs/` (если менялся API)
   - Обновить user-guide в `Releases/user-guide/` (если менялся пользовательский функционал)

2. **Процесс работы:**
   - После изменения кода: проанализировать изменения → определить затронутые файлы → спросить пользователя "Обновить документацию и тесты?" → если "да" - выполнить обновления автоматически
   - При создании нового функционала: создать код → создать тесты → спросить "Добавить тест-кейсы и обновить документацию?" → если "да" - выполнить
   - При исправлении бага: исправить код → добавить тест → спросить "Обновить тест-кейсы и документацию?" → если "да" - выполнить

3. **Маппинг изменений:**
   - `server/routes.ts` → `docs/public-docs/api-inventory.md`, `docs/public-docs/no-code-blocks-api-guide.md`, тесты
   - `client/src/pages/` → `Releases/user-guide/`, `Releases/test-cases/modules/`, `e2e/`
   - No-code → `Releases/user-guide/no-code-integration.md`, `Releases/test-cases/modules/no-code-integration.md`, `docs/public-docs/no-code-blocks-api-guide.md`
   - Админка → `Releases/user-guide/admin-panel.md`, `Releases/test-cases/modules/admin-panel.md`
   - И т.д. (см. `.cursorrules` для полного списка)

4. **Формат ссылок в user-guide:**
   - ВСЕ ссылки должны быть в формате Confluence: `https://wiki.hopper-it.ru/display/AI/{filename}?src=contextnavpagetreemode`
   - С якорем: `?src=contextnavpagetreemode#anchor`

5. **Перед коммитом:**
   - Проверить, что все связанные файлы обновлены
   - Если нет - предложить обновить перед коммитом

ПОДРОБНЫЕ ПРАВИЛА: см. `.cursorrules` в корне проекта

"""