# Требования к пользовательскому интерфейсу режима обслуживания (MVP)

## 1) Источник статуса и обновление
- Клиент получает статус из публичного endpoint’а `GET /api/maintenance/status`.
- Обновление — через React Query с `refetchInterval` ≤ 60 секунд.
- Состояние хранится в едином hook’е (`useMaintenanceStatus`), подключается на уровне `client/src/App.tsx`.

## 2) Глобальный баннер планового обслуживания
- Баннер рендерится **один раз** в глобальном layout приложения (верхний уровень, не внутри страниц).
- Баннер **не зависит** от страниц и **не дублируется** в компонентах разделов.
- Баннер видим на всех маршрутах, включая страницу входа.
- Содержимое: дата/время начала, ориентировочное окончание, заголовок/описание.

## 3) Поведение баннера при навигации
- При смене разделов баннер **не пересоздаётся** и **не мигает**.
- Состояние баннера хранится глобально и сохраняется при переходах.
- При изменении статуса баннер обновляет текст **на месте**.
- При переходе `scheduled → active` баннер заменяется экраном обслуживания.

## 4) Экран обслуживания (полная недоступность)
- Полноэкранный overlay, блокирует любые действия пользователя.
- Отображается всем пользователям, включая гостей.
- Содержит:
  - заголовок и описание;
  - ориентировочное время восстановления (если задано);
  - второстепенный текст «следите за обновлениями».

## 5) Блокировка входа
- На `AuthPage` при активном режиме форма входа скрыта.
- Вместо формы показывается экран обслуживания.

## 6) Межвкладочная синхронизация
- При изменении режима в одной вкладке остальные вкладки получают обновление **не позднее 60 секунд**.
- При возврате фокуса вкладка переполучает статус обслуживания.
- В каждой вкладке остаётся **один** экземпляр баннера/экрана обслуживания.

## 7) Ошибки и нестандартные состояния
- При `503 + errorCode=MAINTENANCE_MODE` показывается toast с кратким сообщением.
- Если статус режима не получен:
  - показывается нейтральное предупреждение;
  - UI переходит в «безопасный» режим (показывается экран обслуживания).

## 8) Обновление без перезагрузки
- Переключение режима отражается в UI без reload.
- Переходы сопровождаются явным уведомлением.
